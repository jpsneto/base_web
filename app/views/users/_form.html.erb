<!-- encoding: utf-8 -->

<div class="bs-callout bs-callout-warning col-md-12">
  <fieldset>
    <legend>Informações de sistema</legend>
  </fieldset>
  <div class="form-group">
    <%= f.label :email %>
    <%= f.email_field :email, autofocus: true, class: 'form-control', disabled: (action_name == 'edit') %>
  </div>

  <div class="form-group">
    <%= f.label :name %>
    <%= f.text_field :name, class: 'form-control' %>
  </div>

  <div class="field form-group">
    <%= f.label :password %>
    <i><%= t('.leave_blank_if_you_don_t_want_to_change_it', default: "leave blank if you don't want to change it") %></i>
    <%= f.password_field :password, autocomplete: 'off', class: 'form-control' %>
  </div>

  <div class="field form-group">
    <%= f.label :password_confirmation %>
    <%= f.password_field :password_confirmation, autocomplete: 'off', class: 'form-control' %>
  </div>

  <fieldset>
    <legend>Papeis</legend>
    <% for role in Role.all %>
        <div class="field form-group">
          <%= check_box_tag "user[role_ids][]", role.id, @user.roles.include?(role) %>
          <%= role.name %>
        </div>
    <% end %>
  </fieldset>
</div>

<% unless action_name == 'new' %>
    <fieldset>
      <legend>Status</legend>
      <div class="field form-group">
        <%= check_box_for f, :locked %>
      </div>
    </fieldset>
<% end %>

<%= f.fields_for :funcionario do |ff| %>
    <div class="bs-callout bs-callout-info col-md-12">
      <fieldset>
        <legend>Informações pessoais</legend>
      </fieldset>

      <div class="form-group ">
        <%= ff.label :data_nascimento %>
        <%= date_picker_for ff, :data_nascimento, @user.funcionario.data_nascimento %>
      </div>
      <div class="form-group">
        <%= ff.label :rg %><br>
        <%= ff.text_field :rg, class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= ff.label :cpf %><br>
        <%= ff.text_field :cpf, class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= ff.label :telefone %><br>
        <%= ff.text_field :telefone, class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= ff.label :celular %><br>
        <%= ff.text_field :celular, class: 'form-control' %>
      </div>
    </div>

    <div class="bs-callout bs-callout-danger col-md-12">
      <fieldset>
        <legend>Informações contábeis</legend>
      </fieldset>

      <div class="form-group">
        <%= ff.label :salario %><br>
        <%= ff.text_field :salario, class: 'form-control field-moeda' %>
      </div>
      <div class="form-group">
        <%= ff.label :data_admissao %><br>
        <%= date_picker_for ff, :data_admissao, @user.funcionario.data_admissao%>
      </div>
      <div class="form-group">
        <%= ff.label :data_demissao %><br>
        <%= date_picker_for ff, :data_demissao, @user.funcionario.data_demissao%>
      </div>
      <div class="form-group">
        <%= ff.label :dia_pagamento %><br>
        <%= ff.text_field :dia_pagamento, class: 'form-control' %>
      </div>
    </div>


    <div class="bs-callout bs-callout-primary col-md-12">
      <fieldset>
        <legend>Endereço</legend>
      </fieldset>
      <div class="form-group col-md-8">
        <%= ff.label :logradouro %><br>
        <%= ff.text_field :logradouro, class: 'form-control' %>
      </div>

      <div class="form-group col-md-2">
        <%= ff.label :numero %><br>
        <%= ff.text_field :numero, class: 'form-control' %>
      </div>

      <div class="form-group col-md-2">
        <%= ff.label :complemento %><br>
        <%= ff.text_field :complemento, class: 'form-control' %>
      </div>

      <div class="form-group col-md-4">
        <%= ff.label :bairro %><br>
        <%= ff.text_field :bairro, class: 'form-control' %>
      </div>

      <div class="form-group col-md-4">
        <%= ff.label :cidade %><br>
        <%= ff.text_field :cidade, class: 'form-control' %>
      </div>

      <div class="form-group col-md-1">
        <%= ff.label :estado %><br>
        <%= ff.text_field :estado, class: 'form-control' %>
      </div>

      <div class="form-group col-md-3">
        <%= ff.label :cep %><br>
        <%= ff.text_field :cep, class: 'form-control' %>
      </div>
    </div>
<% end %>

